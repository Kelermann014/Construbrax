<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard - CONSTRUBRAX</title>
    <link rel="stylesheet" href="estilos.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
</head>
<body>

    <header class="top-bar">
        <div class="logo-empresa">
            <img src="home.png" alt="Logo da Empresa">
            <div class="nome-empresa">CONSTRUBRAX</div>
        </div>
        <div class="usuario-info">
            <span class="welcome-message">Seja bem-vindo,</span>
            <span class="user-name">KELERMANN</span>
            <button id="home-button"><i class="fas fa-home"></i></button>
            <button id="settings-button"><i class="fas fa-cog"></i></button>
            <button id="logoff-button"><i class="fas fa-power-off"></i></button>
        </div>
    </header>

    <div class="dashboard-body">
        <nav class="sidebar">
            <ul>
                <li class="submenu">
                    <a href="#" class="dropdown-toggle"><span class="menu-text"><i class="fas fa-tachometer-alt"></i> Dashboard</span><i class="fas fa-chevron-down"></i></a>
                    <ul class="dropdown-menu">
                        <li><a href="dashboard.html">Overview</a></li>
                        <li><a href="#">Events</a></li>
                        <li><a href="#">Users</a></li>
                    </ul>
                </li>
                <li class="submenu">
                    <a href="#" class="dropdown-toggle"><span class="menu-text"><i class="fas fa-tools"></i> Controle de Obras</span><i class="fas fa-chevron-down"></i></a>
                    <ul class="dropdown-menu">
                        <li><a href="#">Nova Obra</a></li>
                        <li><a href="#">Histórico</a></li>
                    </ul>
                </li>
                <li class="submenu">
                    <a href="#" class="dropdown-toggle"><span class="menu-text"><i class="fas fa-money-bill-wave"></i> Recebimentos</span><i class="fas fa-chevron-down"></i></a>
                    <ul class="dropdown-menu">
                        <li><a href="#"><i class="fas fa-user-plus"></i> Cadastrar Cliente</a></li>
                        <li><a href="gestao-emprestimos.html"><i class="fas fa-hand-holding-usd"></i> Gestão de Empréstimos</a></li>
                    </ul>
                </li>
                <li class="submenu">
                    <a href="#" class="dropdown-toggle"><span class="menu-text"><i class="fas fa-chart-line"></i> Relatórios</span><i class="fas fa-chevron-down"></i></a>
                    <ul class="dropdown-menu">
                        <li><a href="relatorios.html">Relatórios Diários</a></li>
                        <li><a href="#">Relatórios Mensais</a></li>
                    </ul>
                </li>
                <li class="submenu">
                    <a href="#" class="dropdown-toggle"><span class="menu-text"><i class="fas fa-file-invoice-dollar"></i> Faturamento</span><i class="fas fa-chevron-down"></i></a>
                    <ul class="dropdown-menu">
                        <li><a href="#">Novo Faturamento</a></li>
                        <li><a href="#">Histórico</a></li>
                    </ul>
                </li>
                <li class="submenu">
                    <a href="#" class="dropdown-toggle"><span class="menu-text"><i class="fas fa-warehouse"></i> Estoque</span><i class="fas fa-chevron-down"></i></a>
                    <ul class="dropdown-menu">
                        <li><a href="#">Adicionar Item</a></li>
                        <li><a href="#">Inventário</a></li>
                    </ul>
                </li>
                <li class="submenu">
                    <a href="#" class="dropdown-toggle"><span class="menu-text"><i class="fas fa-cog"></i> Configurações</span><i class="fas fa-chevron-down"></i></a>
                    <ul class="dropdown-menu">
                        <li><a href="configuracoes.html">Perfil</a></li>
                        <li><a href="senha.html">Segurança</a></li>
                        <li><a href="#">Preferências</a></li>
                    </ul>
                </li>
            </ul>
        </nav>

        <main class="main-content">
            <nav class="top-menu">
                <button id="btn-abrir-cadastro-cliente">Novo Cliente</button>
                <button id="btn-gerenciar-fiadores">Gerenciar Fiadores</button>
                <button id="btn-abrir-simulacao">Novo Empréstimo</button>
            </nav>

            <div class="container">                
                <section class="filtros">
                    <button id="filtro-todos" data-filtro="todos" class="filtro-btn ativo">Todos</button>
                    <button id="filtro-em-dia" data-filtro="em-dia" class="filtro-btn">Em dia</button>
                    <button id="filtro-atrasados" data-filtro="atrasado" class="filtro-btn">Atrasados</button>
                    <button id="filtro-a-vencer" data-filtro="a-vencer" class="filtro-btn">A vencer</button>
                    <button id="filtro-quitados" data-filtro="quitado" class="filtro-btn">Quitados</button>
                    <input type="text" id="pesquisaCliente" placeholder="Pesquisar por cliente..." />
                </section>

                <section class="cards-dashboard">
                    <div class="card"><h3>Total de Clientes</h3><p id="totalClientes">0</p></div>
                    <div class="card"><h3>Total a Receber</h3><p id="totalReceber">R$ 0,00</p></div>
                    <div class="card"><h3>Quantidade de Cidades</h3><p id="totalCidades">0</p></div>
                    <div class="card"><h3>Total de Empréstimos</h3><p id="totalEmprestimos">0</p></div>
                </section>

                <section class="graficos-grid">
                    <div><canvas id="graficoStatus"></canvas></div>
                    <div><canvas id="graficoMensal"></canvas></div>
                </section>

                <section>
                    <table class="tabela-principal">
                        <thead>
                            <tr>
                                <th data-label="Cliente">Cliente</th>
                                <th data-label="Valor Total">Valor Total</th>
                                <th data-label="Parcelas">Parcelas</th>
                                <th data-label="Status">Status</th>
                                <th data-label="Ações">Ações</th>
                            </tr>
                        </thead>
                        <tbody id="tabelaEmprestimos"></tbody>
                    </table>
                </section>
            </div>
        </main>
    </div>

    <div id="modalCadastroCliente" class="modal">
        <div class="modal-content">
            <span class="close" data-modal-id="modalCadastroCliente">&times;</span>
            <h3 id="tituloModalCliente">Cadastro de Cliente</h3>
            <input type="hidden" id="idClienteEditar" />
            <div class="form-grid">
                <div class="form-group span-4"><input type="text" id="nomeCliente" placeholder="Nome do Cliente" /><div class="mensagem-erro" id="erro-nomeCliente"></div></div>
                <div class="form-group span-2"><input type="text" id="cpfCliente" placeholder="CPF" data-mascara="cpf" maxlength="14" /><div class="mensagem-erro" id="erro-cpfCliente"></div></div>
                <div class="form-group span-2"><input type="text" id="rgCliente" placeholder="RG" data-mascara="rg" maxlength="12" /><div class="mensagem-erro" id="erro-rgCliente"></div></div>
                <div class="form-group span-2"><input type="text" id="telefoneCliente" placeholder="Telefone" data-mascara="telefone" maxlength="15" /><div class="mensagem-erro" id="erro-telefoneCliente"></div></div>
                <div class="form-group span-2"><input type="text" id="profissaoCliente" placeholder="Profissão" /><div class="mensagem-erro" id="erro-profissaoCliente"></div></div>
                
                <h4 class="span-4" style="margin: 10px 0;">Dados do Cônjuge (se houver)</h4>
                <div class="form-group span-2"><input type="text" id="nomeConjugeCliente" placeholder="Nome do Cônjuge" /><div class="mensagem-erro" id="erro-nomeConjugeCliente"></div></div>
                <div class="form-group span-2"><input type="text" id="cpfConjugeCliente" placeholder="CPF do Cônjuge" data-mascara="cpf" maxlength="14" /><div class="mensagem-erro" id="erro-cpfConjugeCliente"></div></div>
                
                <h4 class="span-4" style="margin: 10px 0;">Endereço de Moradia</h4>
                <div class="form-group span-1"><input type="text" id="cepMoradiaCliente" placeholder="CEP" data-mascara="cep" maxlength="9" /><div class="mensagem-erro" id="erro-cepMoradiaCliente"></div></div>
                <div class="form-group campo-largo"><input type="text" id="ruaMoradiaCliente" placeholder="Rua" /><div class="mensagem-erro" id="erro-ruaMoradiaCliente"></div></div>
                <div class="form-group span-1"><input type="text" id="numeroMoradiaCliente" placeholder="Número" /><div class="mensagem-erro" id="erro-numeroMoradiaCliente"></div></div>
                <div class="form-group span-3"><input type="text" id="bairroMoradiaCliente" placeholder="Bairro" /><div class="mensagem-erro" id="erro-bairroMoradiaCliente"></div></div>
                <div class="form-group span-2"><input type="text" id="cidadeMoradiaCliente" placeholder="Cidade" /><div class="mensagem-erro" id="erro-cidadeMoradiaCliente"></div></div>
                <div class="form-group span-2"><input type="text" id="estadoMoradiaCliente" placeholder="Estado" maxlength="2" /><div class="mensagem-erro" id="erro-estadoMoradiaCliente"></div></div>
                <div class="form-group span-4"><input type="text" id="complementoMoradiaCliente" placeholder="Complemento" /><div class="mensagem-erro" id="erro-complementoMoradiaCliente"></div></div>
                
                <h4 class="span-4" style="margin: 10px 0;">Endereço do Imóvel</h4>
                <div class="form-group span-1"><input type="text" id="cepImovelCliente" placeholder="CEP" data-mascara="cep" maxlength="9" /><div class="mensagem-erro" id="erro-cepImovelCliente"></div></div>
                <div class="form-group campo-largo"><input type="text" id="ruaImovelCliente" placeholder="Rua" /><div class="mensagem-erro" id="erro-ruaImovelCliente"></div></div>
                <div class="form-group span-1"><input type="text" id="numeroImovelCliente" placeholder="Número" /><div class="mensagem-erro" id="erro-numeroImovelCliente"></div></div>
                <div class="form-group span-3"><input type="text" id="bairroImovelCliente" placeholder="Bairro" /><div class="mensagem-erro" id="erro-bairroImovelCliente"></div></div>
                <div class="form-group span-2"><input type="text" id="cidadeImovelCliente" placeholder="Cidade" /><div class="mensagem-erro" id="erro-cidadeImovelCliente"></div></div>
                <div class="form-group span-2"><input type="text" id="estadoImovelCliente" placeholder="Estado" maxlength="2" /><div class="mensagem-erro" id="erro-estadoImovelCliente"></div></div>
                <div class="form-group span-4"><input type="text" id="complementoImovelCliente" placeholder="Complemento" /><div class="mensagem-erro" id="erro-complementoImovelCliente"></div></div>
            </div>
            <button id="btn-salvar-cliente">Salvar</button>
        </div>
    </div>

    <div id="modalCadastroFiador" class="modal">
        <div class="modal-content">
            <span class="close" data-modal-id="modalCadastroFiador">&times;</span>
            <h3 id="tituloModalFiador">Cadastro de Fiador</h3>
            <input type="hidden" id="idFiadorEditar" />
            <div class="form-grid">
                <div class="form-group span-4"><input type="text" id="nomeFiador" placeholder="Nome do Fiador" /><div class="mensagem-erro" id="erro-nomeFiador"></div></div>
                <div class="form-group span-2"><input type="text" id="cpfFiador" placeholder="CPF" data-mascara="cpf" maxlength="14"/><div class="mensagem-erro" id="erro-cpfFiador"></div></div>
                <div class="form-group span-2"><input type="text" id="rgFiador" placeholder="RG" data-mascara="rg" maxlength="12"/><div class="mensagem-erro" id="erro-rgFiador"></div></div>
                <div class="form-group span-4"><input type="text" id="telefoneFiador" placeholder="Telefone" data-mascara="telefone" maxlength="15"/><div class="mensagem-erro" id="erro-telefoneFiador"></div></div>
                <div class="form-group span-1"><input type="text" id="cepFiador" placeholder="CEP" data-mascara="cep" maxlength="9"/><div class="mensagem-erro" id="erro-cepFiador"></div></div>
                <div class="form-group campo-largo"><input type="text" id="ruaFiador" placeholder="Rua"/><div class="mensagem-erro" id="erro-ruaFiador"></div></div>
                <div class="form-group span-1"><input type="text" id="numeroFiador" placeholder="Número"/><div class="mensagem-erro" id="erro-numeroFiador"></div></div>
                <div class="form-group span-3"><input type="text" id="bairroFiador" placeholder="Bairro"/><div class="mensagem-erro" id="erro-bairroFiador"></div></div>
                <div class="form-group span-2"><input type="text" id="cidadeFiador" placeholder="Cidade"/><div class="mensagem-erro" id="erro-cidadeFiador"></div></div>
                <div class="form-group span-2"><input type="text" id="estadoFiador" placeholder="Estado" maxlength="2"/><div class="mensagem-erro" id="erro-estadoFiador"></div></div>
                <div class="form-group span-4"><input type="text" id="complementoFiador" placeholder="Complemento" /><div class="mensagem-erro" id="erro-complementoFiador"></div></div>

                <h4 class="span-4" style="margin: 10px 0;">Dados do Cônjuge (se houver)</h4>
                <div class="form-group span-2"><input type="text" id="nomeConjugeFiador" placeholder="Nome do Cônjuge" /><div class="mensagem-erro" id="erro-nomeConjugeFiador"></div></div>
                <div class="form-group span-2"><input type="text" id="cpfConjugeFiador" placeholder="CPF do Cônjuge" data-mascara="cpf" maxlength="14" /><div class="mensagem-erro" id="erro-cpfConjugeFiador"></div></div>
            </div>
            <button id="btn-salvar-fiador">Salvar Fiador</button>
        </div>
    </div>
    
    <div id="modalGerenciarFiadores" class="modal">
        <div class="modal-content-largo">
            <span class="close" data-modal-id="modalGerenciarFiadores">&times;</span>
            <h3>Gerenciar Fiadores</h3>
            <div class="tabela-rolavel" style="max-height: 500px;">
                <table>
                    <thead>
                        <tr><th>Nome do Fiador</th><th>CPF</th><th>Telefone</th><th>Ações</th></tr>
                    </thead>
                    <tbody id="tabelaGerenciarFiadores"></tbody>
                </table>
            </div>
        </div>
    </div>

    <div id="modalSimulacao" class="modal">
        <div class="modal-content" style="max-width: 800px;">
            <span class="close" data-modal-id="modalSimulacao">&times;</span>
            <h3>Simulação e Realização de Empréstimo</h3>
            <div class="form-grid">
                <div class="form-group span-2">
                    <label for="clienteSimulacao">Cliente:</label>
                    <select id="clienteSimulacao"></select>
                </div>
                <div class="form-group span-1">
                    <label for="fiador1Simulacao">1º Fiador:</label>
                    <select id="fiador1Simulacao"></select>
                </div>
                <div class="form-group span-1">
                    <label for="fiador2Simulacao">2º Fiador:</label>
                    <select id="fiador2Simulacao"></select>
                </div>

                <h4 class="span-4" style="margin: 10px 0;">Detalhes do Empréstimo</h4>
                <div class="form-group span-1"><label for="valorEmprestimo">Valor do Empréstimo</label><input type="number" id="valorEmprestimo" placeholder="R$ 0,00" /></div>
                <div class="form-group span-1"><label for="jurosEmprestimo">Juros (% a.m.)</label><input type="number" id="jurosEmprestimo" placeholder="Ex: 3.5" step="0.01" min="0" /></div>
                <div class="form-group span-1"><label for="parcelasEmprestimo">Nº de Parcelas</label><input type="number" id="parcelasEmprestimo" placeholder="Ex: 12" /></div>
                <div class="form-group span-1"><label for="vencimentoEmprestimo">1º Vencimento</label><input type="date" id="vencimentoEmprestimo" /></div>
                
                <h4 class="span-4" style="margin: 10px 0;">Entrada (opcional)</h4>
                <div class="form-group span-2">
                    <div class="label-com-botao">
                        <label for="veiculoEntrada">Veículo (Entrada)</label>
                        <button id="btn-abrir-cadastro-veiculo" class="btn-link">Cadastrar Veículo</button>
                    </div>
                    <select id="veiculoEntrada">
                        <option value="">Selecione um veículo</option>
                    </select>
                </div>
                <div class="form-group span-1"><label for="valorVeiculoEntrada">Valor da Entrada</label><input type="number" id="valorVeiculoEntrada" placeholder="R$ 0,00" readonly /></div>
                <div class="form-group span-1"><label for="documentosVeiculo">Docs. (ipva, licenciamento, etc)</label><input type="text" id="documentosVeiculo" placeholder="Docs." readonly/></div>

                <div class="span-4"><label for="resultadoSimulacao">Resultado da Simulação:</label><textarea id="resultadoSimulacao" readonly></textarea></div>
            </div>
            <div class="botoes-simulacao"><button id="btn-simular">Simular</button><button id="btn-realizar-emprestimo">Realizar Empréstimo</button></div>
        </div>
    </div>

    <div id="modalDetalhesEmprestimo" class="modal">
        <div class="modal-content-largo">
            <span class="close" data-modal-id="modalDetalhesEmprestimo">&times;</span>
            <h3>Detalhes do Empréstimo</h3>
            <div id="detalhesEmprestimoConteudo"></div>
            <button id="btn-imprimir-contrato">Imprimir Contrato</button>
        </div>
    </div>

    <div id="modalConfirmarPagamento" class="modal">
        <div class="modal-content">
            <span class="close" data-modal-id="modalConfirmarPagamento">&times;</span>
            <h3>Confirmar Pagamento</h3>
            <p>Você confirma o pagamento da parcela <span id="parcelaConfirmacao"></span> no valor de <span id="valorConfirmacao"></span>?</p>
            <div class="botoes-simulacao">
                <button id="btn-confirmar-pagamento">Confirmar</button>
                <button class="btn-cancelar" onclick="fecharModal('modalConfirmarPagamento')">Cancelar</button>
            </div>
        </div>
    </div>
    
    <div id="modalCadastroVeiculo" class="modal">
        <div class="modal-content" style="max-width: 600px;">
            <span class="close" data-modal-id="modalCadastroVeiculo">&times;</span>
            <h3>Cadastro de Veículo</h3>
            <div class="form-grid">
                <div class="form-group span-2"><input type="text" id="placaVeiculo" placeholder="Placa" /><div class="mensagem-erro" id="erro-placaVeiculo"></div></div>
                <div class="form-group span-2"><input type="text" id="marcaVeiculo" placeholder="Marca" /><div class="mensagem-erro" id="erro-marcaVeiculo"></div></div>
                <div class="form-group span-2"><input type="text" id="modeloVeiculo" placeholder="Modelo" /><div class="mensagem-erro" id="erro-modeloVeiculo"></div></div>
                <div class="form-group span-2"><input type="text" id="anoVeiculo" placeholder="Ano" /><div class="mensagem-erro" id="erro-anoVeiculo"></div></div>
                <div class="form-group span-4"><textarea id="documentosVeiculo" placeholder="Documentos do veículo (IPVA, Licenciamento, etc.)"></textarea></div>
            </div>
            <button id="btn-salvar-veiculo">Salvar Veículo</button>
        </div>
    </div>

    <div id="modalEmDesenvolvimento" class="modal">
        <div class="modal-content" style="max-width: 500px; text-align: center;">
            <span class="close" data-modal-id="modalEmDesenvolvimento">&times;</span>
            <h3>Funcionalidade em Desenvolvimento</h3>
            <p>Esta funcionalidade será implementada em uma próxima fase do projeto. Agradecemos a sua compreensão!</p>
        </div>
    </div>

    <footer>
        <p>© 2025 IKATECH. Todos os direitos reservados.</p>
    </footer>

    <script src="scripts.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/toastify-js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="Project-Construbrax10-07-25/dados.js"></script>
    <script src="Project-Construbrax10-07-25/script-validacao.js"></script>
    <script src="Project-Construbrax10-07-25/script-cadastro.js"></script>
    <script src="Project-Construbrax10-07-25/script-fiador.js"></script>
    <script src="Project-Construbrax10-07-25/script-simulacao.js"></script>
    <script src="Project-Construbrax10-07-25/script-dashboard.js"></script>
    <script src="Project-Construbrax10-07-25/script-contrato.js"></script>
    <script src="Project-Construbrax10-07-25/script.js"></script>
</body>
</html>
